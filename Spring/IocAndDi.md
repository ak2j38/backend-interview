## 스프링 IoC와 DI에 대한 정리

<details>
<summary>IoC와 DI</summary>
<div markdown="1">
IoC(제어의 역전)은 프로그램의 제어 흐름을 개발자가 직접 제어하는 것이 아니라 외부에서 관리하는 것으로 코드의 최종 호출이 개발자가 아닌 프레임워크 내부에서 결정된 대로 이루어집니다.<br>
DI(의존관계 주입)은 Spring 프레임워크에서 지원하는 IoC의 형태로 클래스 사이의 의존관계를 Bean 설정 정보를 바탕으로 컨테이너가 자동으로 연결해줍니다.<br><br>

DI(의존관계 주입)의 방법은 3가지가 있습니다.<br>
첫 번째로는 생성자 주입이 있습니다. 생성자 주입은 최신 스프링이 적극적으로 추천하는 방법으로 생성자의 호출 시점에 1회 호출되는 것이 보장됩니다. 주입받은 객체가 변하지 않거나, 반드시 객체의 주입이 필요한 경우에 강제하기 위해 사용합니다. 또한 final과 연계가 좋아 롬복과 결합이 유리합니다.<br>
두 번째로는 수정자 주입이 있습니다. 수정자 주입은 주입받는 객체가 변경될 가능성이 있는 경우에 사용합니다.<br>
세 번째로는 필드 주입이 있습니다. 이는 @Autowired 어노테이션을 사용하는 방법으로 코드가 간결해진다는 장점으로 과거에 많이 사용되었습니다. 하지만 외부에서 변경이 불가능하다는 단점과 테스트코드가 트렌드가 되면서 거의 사라진 방식입니다.<br>
<br>
  
생성자 주입을 사용해야 하는 이유는 다음과 같습니다.<br>
먼저 객체의 불변성을 확보할 수 있습니다. 수정자 주입이나 일반 메소드 주입은 불필요한 수정 가능성을 열어두고 있어 OCP를 위반하게 됩니다.<br>
다음으로는 final과 Lombok 결합이 유리합니다. final을 사용하면 컴파일 시점에 누락된 의존성 확인이 가능해 Lombok의 @RequiredArgsConstructor와 결합이 유리합니다.<br>
   
</div>
</details>
